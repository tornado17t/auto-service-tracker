<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Авто-Сервис Трекер</title>
<style>
body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f9; }
h1 { text-align: center; margin-bottom: 20px; }
input, select, button { padding: 10px; margin: 5px 0; width: 100%; box-sizing: border-box; border-radius: 5px; border: 1px solid #ccc; }
button { cursor: pointer; }
ul { list-style: none; padding: 0; margin-top: 20px; }
li { background: #fff; padding: 10px; margin-bottom: 10px; border-radius: 6px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; }
.record-info { flex: 1; }
.delete-btn { background: #e74c3c; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; }

/* Всплывающее уведомление внутри страницы */
.inpage-notif {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: #2ecc71;
  color: #fff;
  padding: 10px 20px;
  border-radius: 5px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  z-index: 1000;
}

/* Список автомобилей с кнопками удаления */
.car-item { display: flex; justify-content: space-between; margin-bottom: 5px; }
.car-item button { background:#e74c3c; color:white; border:none; padding:5px 10px; border-radius:5px; cursor:pointer; }
</style>
</head>
<body>

<h1>Авто-Сервис Трекер</h1>

<h3>Добавить автомобиль</h3>
<input type="text" id="carName" placeholder="Название машины">
<input type="number" id="carYear" placeholder="Год выпуска">
<input type="text" id="carNumber" placeholder="Номер машины">
<button id="addCarBtn">Добавить автомобиль</button>

<h3>Ваши автомобили</h3>
<div id="carListContainer"></div>

<h3>Добавить запись по сервису</h3>
<select id="carSelect">
  <option value="">Выберите автомобиль</option>
</select>
<input type="text" id="service" placeholder="Работа (например: замена масла)">
<input type="number" id="mileage" placeholder="Пробег (км)">
<input type="number" id="cost" placeholder="Стоимость работы (грн)">
<input type="date" id="reminderDate" placeholder="Дата напоминания">
<button id="addRecord">Добавить запись</button>

<ul id="recordsList"></ul>

<script>
// Элементы
const carNameInput = document.getElementById('carName');
const carYearInput = document.getElementById('carYear');
const carNumberInput = document.getElementById('carNumber');
const addCarBtn = document.getElementById('addCarBtn');
const carSelect = document.getElementById('carSelect');
const serviceInput = document.getElementById('service');
const mileageInput = document.getElementById('mileage');
const costInput = document.getElementById('cost');
const reminderDateInput = document.getElementById('reminderDate');
const addRecordBtn = document.getElementById('addRecord');
const recordsList = document.getElementById('recordsList');
const carListContainer = document.getElementById('carListContainer');

// Данные
let cars = JSON.parse(localStorage.getItem('cars') || '[]');
let recordsByCar = JSON.parse(localStorage.getItem('recordsByCar') || '{}');

// Функции
function updateCarSelect() {
  carSelect.innerHTML = '<option value="">Выберите автомобиль</option>';
  cars.forEach(car => {
    const option = document.createElement('option');
    option.value = car.id;
    option.textContent = `${car.name} (${car.year}) [${car.number}]`;
    carSelect.appendChild(option);
  });

  // Список автомобилей с кнопками удаления
  carListContainer.innerHTML = '';
  cars.forEach(car => {
    const div = document.createElement('div');
    div.className = 'car-item';
    div.innerHTML = `<span>${car.name} (${car.year}) [${car.number}]</span><button>Удалить</button>`;
    div.querySelector('button').addEventListener('click', () => {
      if (confirm(`Удалить автомобиль ${car.name}? Все его записи будут удалены!`)) {
        // Удаляем автомобиль
        cars = cars.filter(c => c.id !== car.id);
        localStorage.setItem('cars', JSON.stringify(cars));
        // Удаляем его записи
        delete recordsByCar[car.id];
        localStorage.setItem('records
